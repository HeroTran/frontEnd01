"undefined"==typeof RGraph&&(RGraph={}),RGraph.Radar=function(id){if(this.id=id,this.canvas=document.getElementById("object"==typeof id?id.id:id),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="radar",this.coords=[],this.isRGraph=!0,this.data=[],this.max=0,this.original_data=[],this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],"object"==typeof arguments[1]&&"object"==typeof arguments[1][0])for(var i=0,len=arguments[1].length;len>i;++i)this.original_data.push(RGraph.array_clone(arguments[1][i])),this.data.push(RGraph.array_clone(arguments[1][i])),this.max=Math.max(this.max,RGraph.array_max(arguments[1][i]));else for(var i=1,len=arguments.length;len>i;++i)this.original_data.push(RGraph.array_clone(arguments[i])),this.data.push(RGraph.array_clone(arguments[i])),this.max=Math.max(this.max,RGraph.array_max(arguments[i]));RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.linewidth":1,"chart.colors":["rgba(255,255,0,0.25)","rgba(0,255,255,0.25)","rgba(255,0,0,0.5)","red","green","blue","pink","aqua","brown","orange","grey"],"chart.colors.alpha":null,"chart.circle":0,"chart.circle.fill":"red","chart.circle.stroke":"black","chart.labels":[],"chart.labels.offset":10,"chart.background.circles":!0,"chart.background.circles.count":null,"chart.background.circles.color":"#ddd","chart.background.circles.poly":!0,"chart.text.size":10,"chart.text.size.scale":null,"chart.text.font":"Arial","chart.text.color":"black","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.color":"black","chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.linewidth":1,"chart.key":null,"chart.key.background":"white","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position":"graph","chart.key.halign":"right","chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart.stroke":"rgba(255,0,0,0.3)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.key.text.color":"black","chart.contextmenu":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.tooltips.effect":"fade","chart.tooltips.event":"onmousemove","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.stroke":"gray","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.highlight.point.radius":2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.labels.axes":"","chart.labels.background.fill":"white","chart.labels.boxed":!1,"chart.labels.axes.bold":[],"chart.labels.axes.boxed":null,"chart.labels.axes.boxed.zero":!0,"chart.labels.specific":[],"chart.labels.count":5,"chart.ymax":null,"chart.accumulative":!1,"chart.radius":null,"chart.events.click":null,"chart.events.mousemove":null,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.event":"onmousemove","chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.numxticks":5,"chart.numyticks":5,"chart.axes.color":"rgba(0,0,0,0)","chart.highlights":!1,"chart.highlights.stroke":"#ddd","chart.highlights.fill":null,"chart.highlights.radius":3,"chart.fill.click":null,"chart.fill.mousemove":null,"chart.fill.tooltips":null,"chart.fill.highlight.fill":"rgba(255,255,255,0.7)","chart.fill.highlight.stroke":"rgba(0,0,0,0)","chart.fill.mousemove.redraw":!1,"chart.animation.trace.clip":1};for(var dataset=0;dataset<this.data.length;++dataset)if(this.data[dataset].length<3)return void alert("[RADAR] You must specify at least 3 data points");for(var idx=0,dataset=0;dataset<this.data.length;++dataset)for(var i=0,len=this.data[dataset].length;len>i;++i)this["$"+idx++]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var RG=RGraph,ca=this.canvas,co=ca.getContext("2d"),prop=this.properties;this.Set=function(name,value){return name=name.toLowerCase(),"chart."!=name.substr(0,6)&&(name="chart."+name),"chart.text.diameter"==name&&(name="chart.text.size"),"chart.color"==name&&(this.properties["chart.colors"]=[value]),prop[name]=value,this},this.Get=function(name){return"chart."!=name.substr(0,6)&&(name="chart."+name),"chart.text.diameter"==name&&(name="chart.text.size"),prop[name]},this.Draw=function(){if(RG.FireCustomEvent(this,"onbeforedraw"),this.coords=[],this.coords2=[],this.data=RG.array_clone(this.original_data),prop["chart.accumulative"])for(var i=0;i<this.data.length;++i)this.data[i].length!=this.data[0].length&&alert("[RADAR] Error! When the radar has chart.accumulative set to true all the datasets must have the same number of elements");if(RG.is_null(prop["chart.labels.axes.boxed"])){prop["chart.labels.axes.boxed"]=[];for(var i=0;i<(prop["chart.labels.specific"].length||prop["chart.labels.count"]||5);++i)prop["chart.labels.axes.boxed"][i]=!0}if(this.gutterLeft=prop["chart.gutter.left"],this.gutterRight=prop["chart.gutter.right"],this.gutterTop=prop["chart.gutter.top"],this.gutterBottom=prop["chart.gutter.bottom"],this.centerx=(ca.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(ca.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.radius=Math.min(ca.width-this.gutterLeft-this.gutterRight,ca.height-this.gutterTop-this.gutterBottom)/2,"number"==typeof prop["chart.centerx"]&&(this.centerx=2*prop["chart.centerx"]),"number"==typeof prop["chart.centery"]&&(this.centery=2*prop["chart.centery"]),"number"==typeof prop["chart.radius"]&&(this.radius=prop["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),prop["chart.ymax"]){var ymax=prop["chart.ymax"];this.scale2=RG.getScale2(this,{max:ymax,min:0,strict:!0,"scale.decimals":Number(prop["chart.scale.decimals"]),"scale.point":prop["chart.scale.point"],"scale.thousand":prop["chart.scale.thousand"],"scale.round":prop["chart.scale.round"],"units.pre":prop["chart.units.pre"],"units.post":prop["chart.units.post"],"ylabels.count":prop["chart.labels.count"]}),this.max=this.scale2.max}else{if(prop["chart.accumulative"])for(var len=this.original_data[0].length,i=1;i<this.original_data.length;++i){this.original_data[i].length!=len&&alert("[RADAR] Error! Stacked Radar chart datasets must all be the same size!");for(var j=0;j<this.original_data[i].length;++j)this.data[i][j]+=this.data[i-1][j],this.max=Math.max(this.max,this.data[i][j])}this.scale2=RG.getScale2(this,{max:"number"==typeof prop["chart.ymax"]?prop["chart.ymax"]:this.max,min:0,"scale.decimals":Number(prop["chart.scale.decimals"]),"scale.point":prop["chart.scale.point"],"scale.thousand":prop["chart.scale.thousand"],"scale.round":prop["chart.scale.round"],"units.pre":prop["chart.units.pre"],"units.post":prop["chart.units.post"],"ylabels.count":prop["chart.labels.count"]}),this.max=this.scale2.max}return this.DrawBackground(),this.DrawAxes(),this.DrawCircle(),this.DrawLabels(),this.DrawAxisLabels(),co.save(),co.beginPath(),co.arc(this.centerx,this.centery,2*this.radius,-HALFPI,TWOPI*prop["chart.animation.trace.clip"]-HALFPI,!1),co.lineTo(this.centerx,this.centery),co.closePath(),co.clip(),this.DrawChart(),this.DrawHighlights(),co.restore(),prop["chart.title"]&&RG.DrawTitle(this,prop["chart.title"],this.gutterTop,null,prop["chart.title.diameter"]?prop["chart.title.diameter"]:null),prop["chart.key"]&&RG.DrawKey(this,prop["chart.key"],prop["chart.colors"]),prop["chart.contextmenu"]&&RG.ShowContext(this),prop["chart.resizable"]&&RG.AllowResizing(this),RG.InstallEventListeners(this),!prop["chart.fill.click"]&&!prop["chart.fill.mousemove"]&&RG.is_null(prop["chart.fill.tooltips"])||this.__fill_click_listeners_installed__||(this.AddFillListeners(),this.__fill_click_listeners_installed__=!0),RGraph.FireCustomEvent(this,"ondraw"),this},this.DrawBackground=function(){{var color=prop["chart.background.circles.color"],poly=prop["chart.background.circles.poly"];prop["chart.background.circles.spacing"]}if(co.lineWidth=1,prop["chart.background.circles"]&&0==poly){co.strokeStyle=color,co.beginPath();for(var numrings="number"==typeof prop["chart.background.circles.count"]?prop["chart.background.circles.count"]:prop["chart.labels.count"],r=0;r<=this.radius;r+=this.radius/numrings)co.moveTo(this.centerx,this.centery),co.arc(this.centerx,this.centery,r,0,TWOPI,!1);co.stroke(),co.strokeStyle=color;for(var i=0;360>i;i+=15)co.beginPath(),co.arc(this.centerx,this.centery,this.radius,i/360*TWOPI,(i+.001)/360*TWOPI,!1),co.lineTo(this.centerx,this.centery),co.stroke()}else if(prop["chart.background.circles"]&&1==poly){co.strokeStyle=color;for(var increment=360/this.data[0].length,i=0;360>i;i+=increment)co.beginPath(),co.arc(this.centerx,this.centery,this.radius,i/360*TWOPI-HALFPI,(i+.001)/360*TWOPI-HALFPI,!1),co.lineTo(this.centerx,this.centery),co.stroke();co.strokeStyle=color;for(var numrings="number"==typeof prop["chart.background.circles.count"]?prop["chart.background.circles.count"]:prop["chart.labels.count"],r=0;r<=this.radius;r+=this.radius/numrings){co.beginPath();for(var a=0;360>=a;a+=360/this.data[0].length)co.arc(this.centerx,this.centery,r,RG.degrees2Radians(a)-HALFPI,RG.degrees2Radians(a)+.001-HALFPI,!1);co.closePath(),co.stroke()}}},this.DrawAxes=function(){co.strokeStyle=prop["chart.axes.color"];this.radius;co.beginPath(),co.moveTo(Math.round(this.centerx),this.centery+this.radius),co.lineTo(Math.round(this.centerx),this.centery-this.radius),co.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),co.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),co.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),co.lineTo(this.centerx+5,Math.round(this.centery-this.radius));for(var y=this.centery-this.radius;y<this.centery+this.radius;y+=this.radius/prop["chart.numyticks"])co.moveTo(this.centerx-3,Math.round(y)),co.lineTo(this.centerx+3,Math.round(y));co.moveTo(this.centerx-this.radius,Math.round(this.centery)),co.lineTo(this.centerx+this.radius,Math.round(this.centery)),co.moveTo(Math.round(this.centerx-this.radius),this.centery-5),co.lineTo(Math.round(this.centerx-this.radius),this.centery+5),co.moveTo(Math.round(this.centerx+this.radius),this.centery-5),co.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var x=this.centerx-this.radius;x<this.centerx+this.radius;x+=this.radius/prop["chart.numxticks"])co.moveTo(Math.round(x),this.centery-3),co.lineTo(Math.round(x),this.centery+3);co.stroke()},this.DrawChart=function(){var alpha=prop["chart.colors.alpha"];if("number"==typeof alpha){var oldAlpha=co.globalAlpha;co.globalAlpha=alpha}for(var dataset=(this.data.length,0);dataset<this.data.length;++dataset){co.beginPath();for(var coords_dataset=[],i=0;i<this.data[dataset].length;++i){var coords=this.GetCoordinates(dataset,i);null==coords_dataset&&(coords_dataset=[]),coords_dataset.push(coords),this.coords.push(coords)}for(this.coords2[dataset]=coords_dataset,co.strokeStyle="object"==typeof prop["chart.strokestyle"]&&prop["chart.strokestyle"][dataset]?prop["chart.strokestyle"][dataset]:prop["chart.strokestyle"],co.fillStyle=prop["chart.colors"][dataset],co.lineWidth=prop["chart.linewidth"],i=0;i<coords_dataset.length;++i)0==i?co.moveTo(coords_dataset[i][0],coords_dataset[i][1]):co.lineTo(coords_dataset[i][0],coords_dataset[i][1]);if(prop["chart.accumulative"]&&dataset>0){co.lineTo(coords_dataset[0][0],coords_dataset[0][1]),co.moveTo(last_coords[0][0],last_coords[0][1]);for(var i=coords_dataset.length-1;i>=0;--i)co.lineTo(last_coords[i][0],last_coords[i][1])}var last_coords=coords_dataset;co.closePath(),co.stroke(),co.fill()}"number"==typeof alpha&&(co.globalAlpha=oldAlpha)},this.GetCoordinates=function(dataset,index){var len=this.data[dataset].length,mag=this.data[dataset][index]/this.max*this.radius,angle=TWOPI/len*index;angle-=HALFPI;var x=Math.cos(angle)*mag,y=Math.sin(angle)*mag;return x=this.centerx+x,y=this.centery+y,[x,y]},this.DrawLabels=function(){var labels=prop["chart.labels"];if(labels&&labels.length>0){co.lineWidth=1,co.strokeStyle="gray",co.fillStyle=prop["chart.text.color"];for(var bgFill=prop["chart.labels.background.fill"],bold=prop["chart.labels.bold"],bgBoxed=prop["chart.labels.boxed"],offset=prop["chart.labels.offset"],font=prop["chart.text.font"],size=prop["chart.text.size"],radius=this.radius,i=0;i<labels.length;++i){var angle=TWOPI/prop["chart.labels"].length*i;angle-=HALFPI;var x=this.centerx+Math.cos(angle)*(radius+offset),y=this.centery+Math.sin(angle)*(radius+offset),halign=x<this.centerx?"right":"left";(0==i||i/labels.length==.5)&&(halign="center"),labels[i]&&labels[i].length&&RG.Text2(this,{font:font,size:size,x:x,y:y,text:labels[i],valign:"center",halign:halign,bounding:bgBoxed,boundingFill:bgFill,bold:bold,tag:"labels"})}}},this.DrawCircle=function(){var circle={};if(circle.limit=prop["chart.circle"],circle.fill=prop["chart.circle.fill"],circle.stroke=prop["chart.circle.stroke"],circle.limit){var r=circle.limit/this.max*this.radius;co.fillStyle=circle.fill,co.strokeStyle=circle.stroke,co.beginPath(),co.arc(this.centerx,this.centery,r,0,TWOPI,0),co.fill(),co.stroke()}},this.DrawAxisLabels=function(){if(RG.is_array(prop["chart.labels.specific"])&&prop["chart.labels.specific"].length)return void this.DrawSpecificAxisLabels();co.lineWidth=1,co.fillStyle="black",co.strokeStyle="black";{var r=this.radius,font=prop["chart.text.font"],size="number"==typeof prop["chart.text.size.scale"]?prop["chart.text.size.scale"]:prop["chart.text.size"],axes=prop["chart.labels.axes"].toLowerCase(),color="white",drawzero=!1,units_pre=prop["chart.units.pre"],units_post=prop["chart.units.post"],decimals=prop["chart.scale.decimals"],bold=prop["chart.labels.axes.bold"],boxed=prop["chart.labels.axes.boxed"],centerx=this.centerx,centery=this.centery;this.scale}if(co.fillStyle=prop["chart.text.color"],axes.indexOf("n")>-1){for(var i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{bold:bold[i],font:font,size:size,x:centerx,y:centery-r*((i+1)/this.scale2.labels.length),text:this.scale2.labels[i],valign:"center",halign:"center",bounding:boxed[i],boundingFill:color,tag:"scale"});drawzero=!0}if(axes.indexOf("s")>-1){for(var i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{bold:bold[i],font:font,size:size,x:centerx,y:centery+r*((i+1)/this.scale2.labels.length),text:this.scale2.labels[i],valign:"center",halign:"center",bounding:boxed[i],boundingFill:color,tag:"scale"});drawzero=!0}if(axes.indexOf("e")>-1){for(var i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{bold:bold[i],font:font,size:size,x:centerx+r*((i+1)/this.scale2.labels.length),y:centery,text:this.scale2.labels[i],valign:"center",halign:"center",bounding:boxed[i],boundingFill:color,tag:"scale"});drawzero=!0}if(axes.indexOf("w")>-1){for(var i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{bold:bold[i],font:font,size:size,x:centerx-r*((i+1)/this.scale2.labels.length),y:centery,text:this.scale2.labels[i],valign:"center",halign:"center",bounding:boxed[i],boundingFill:color,tag:"scale"});drawzero=!0}drawzero&&RG.Text2(this,{font:font,size:size,x:centerx,y:centery,text:RG.number_format(this,0..toFixed(decimals),units_pre,units_post),valign:"center",halign:"center",bounding:prop["chart.labels.axes.boxed.zero"],boundingFill:color,bold:prop["chart.labels.axes.bold.zero"],tag:"scale"})},this.DrawSpecificAxisLabels=function(){var labels=prop["chart.labels.specific"],bold=RG.array_pad(prop["chart.labels.axes.bold"],labels.length),boxed=RG.array_pad(prop["chart.labels.axes.boxed"],labels.length),reversed_labels=RG.array_reverse(labels),reversed_bold=RG.array_reverse(bold),reversed_boxed=RG.array_reverse(boxed),font=prop["chart.text.font"],size="number"==typeof prop["chart.text.size.scale"]?prop["chart.text.size.scale"]:prop["chart.text.size"],axes=prop["chart.labels.axes"].toLowerCase();co.fillStyle=prop["chart.text.color"];for(var i=0;i<labels.length;++i)axes.indexOf("n")>-1&&RG.Text2(this,{tag:"labels.specific",bold:reversed_bold[i],font:font,size:size,x:this.centerx,y:this.centery-this.radius+this.radius/labels.length*i,text:reversed_labels[i],valign:"center",halign:"center",bounding:reversed_boxed[i],boundingFill:"white"}),axes.indexOf("s")>-1&&RG.Text2(this,{tag:"labels.specific",bold:bold[i],font:font,size:size,x:this.centerx,y:this.centery+this.radius/labels.length*(i+1),text:labels[i],valign:"center",halign:"center",bounding:boxed[i],boundingFill:"white"}),axes.indexOf("w")>-1&&RG.Text2(this,{tag:"labels.specific",bold:reversed_bold[i],font:font,size:size,x:this.centerx-this.radius+this.radius/labels.length*i,y:this.centery,text:reversed_labels[i],valign:"center",halign:"center",bounding:reversed_boxed[i],boundingFill:"white"}),axes.indexOf("e")>-1&&RG.Text2(this,{tag:"labels.specific",bold:bold[i],font:font,size:size,x:this.centerx+this.radius/labels.length*(i+1),y:this.centery,text:labels[i],valign:"center",halign:"center",bounding:boxed[i],boundingFill:"white"})},this.getShape=this.getPoint=function(e){for(var i=0;i<this.coords.length;++i){var x=this.coords[i][0],y=this.coords[i][1],index=(prop["chart.tooltips"],Number(i)),mouseXY=RG.getMouseXY(e),mouseX=mouseXY[0],mouseY=mouseXY[1];if(x+5>mouseX&&mouseX>x-5&&mouseY>y-5&&y+5>mouseY){var tooltip=RG.parseTooltipText(prop["chart.tooltips"],index);return{0:this,object:this,1:x,x:x,2:y,y:y,3:null,dataset:null,4:index,index:i,tooltip:tooltip}}}},this.Highlight=function(shape){RG.Highlight.Point(this,shape)},this.getObjectByXY=function(e){var mouseXY=RG.getMouseXY(e);return mouseXY[0]>this.centerx-this.radius&&mouseXY[0]<this.centerx+this.radius&&mouseXY[1]>this.centery-this.radius&&mouseXY[1]<this.centery+this.radius?this:void 0},this.positionTooltip=function(obj,x,y,tooltip){var index=(tooltip.__dataset__,tooltip.__index__),coordX=this.coords[index][0],canvasXY=(this.coords[index][1],RG.getCanvasXY(obj.canvas)),width=(this.gutterLeft,this.gutterTop,tooltip.offsetWidth);tooltip.style.left=0,tooltip.style.top=parseInt(tooltip.style.top)-9+"px",tooltip.style.overflow="";var img=new Image;img.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",img.style.position="absolute",img.id="__rgraph_tooltip_pointer__",img.style.top=tooltip.offsetHeight-2+"px",tooltip.appendChild(img),canvasXY[0]+coordX-width/2<10?(tooltip.style.left=canvasXY[0]+coordX-.1*width+"px",img.style.left=.1*width-8.5+"px"):canvasXY[0]+coordX+width/2>document.body.offsetWidth?(tooltip.style.left=canvasXY[0]+coordX-.9*width+"px",img.style.left=.9*width-8.5+"px"):(tooltip.style.left=canvasXY[0]+coordX-.5*width+"px",img.style.left=.5*width-8.5+"px")},this.DrawHighlights=function(){if(prop["chart.highlights"])for(var sequentialIdx=0,dataset=0,index=0,radius=prop["chart.highlights.radius"],dataset=0;dataset<this.data.length;++dataset)for(var index=0;index<this.data[dataset].length;++index)co.beginPath(),co.strokeStyle=prop["chart.highlights.stroke"],co.fillStyle=prop["chart.highlights.fill"]?prop["chart.highlights.fill"]:"object"==typeof prop["chart.strokestyle"]&&prop["chart.strokestyle"][dataset]?prop["chart.strokestyle"][dataset]:prop["chart.strokestyle"],co.arc(this.coords[sequentialIdx][0],this.coords[sequentialIdx][1],radius,0,TWOPI,!1),co.stroke(),co.fill(),++sequentialIdx},this.getRadius=function(value){if(0>value||value>this.max)return null;var radius=value/this.max*this.radius;return radius},this.getAngle=function(numitems,index){var angle=TWOPI/numitems*index;return angle-=HALFPI},this.parseColors=function(){for(var i=0;i<prop["chart.colors"].length;++i)prop["chart.colors"][i]=this.parseSingleColorForGradient(prop["chart.colors"][i]);var keyColors=prop["chart.key.colors"];if("null"!=typeof keyColors&&keyColors&&keyColors.length)for(var i=0;i<prop["chart.key.colors"].length;++i)prop["chart.key.colors"][i]=this.parseSingleColorForGradient(prop["chart.key.colors"][i]);prop["chart.title.color"]=this.parseSingleColorForGradient(prop["chart.title.color"]),prop["chart.text.color"]=this.parseSingleColorForGradient(prop["chart.text.color"]),prop["chart.highlight.stroke"]=this.parseSingleColorForGradient(prop["chart.highlight.stroke"]),prop["chart.highlight.fill"]=this.parseSingleColorForGradient(prop["chart.highlight.fill"]),prop["chart.circle.fill"]=this.parseSingleColorForGradient(prop["chart.circle.fill"]),prop["chart.circle.stroke"]=this.parseSingleColorForGradient(prop["chart.circle.stroke"])},this.parseSingleColorForGradient=function(color){if(!color||"string"!=typeof color)return color;if(color.match(/^gradient\((.*)\)$/i)){var parts=RegExp.$1.split(":"),grad=co.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),diff=1/(parts.length-1);grad.addColorStop(0,RG.trim(parts[0]));for(var j=1;j<parts.length;++j)grad.addColorStop(j*diff,RG.trim(parts[j]))}return grad?grad:color},this.AddFillListeners=function(){var obj=this,func=function(e){var mouseXY=(this.coords,this.coords2,RG.getMouseXY(e)),dataset=0;"mousemove"==e.type&&prop["chart.fill.mousemove.redraw"]&&RG.RedrawCanvas(ca);for(var dataset=obj.coords2.length-1;dataset>=0;--dataset){co.beginPath(),co.moveTo(obj.coords2[dataset][0][0],obj.coords2[dataset][0][1]);for(var j=0;j<obj.coords2[dataset].length;++j)co.lineTo(obj.coords2[dataset][j][0],obj.coords2[dataset][j][1]);if(co.lineTo(obj.coords2[dataset][0][0],obj.coords2[dataset][0][1]),prop["chart.accumulative"]&&dataset>0){co.lineTo(obj.coords2[dataset-1][0][0],obj.coords2[dataset-1][0][1]);for(var j=obj.coords2[dataset-1].length-1;j>=0;--j)co.lineTo(obj.coords2[dataset-1][j][0],obj.coords2[dataset-1][j][1])}if(co.closePath(),co.isPointInPath(mouseXY[0],mouseXY[1])){var inPath=!0;break}}if(inPath){var fillTooltips=prop["chart.fill.tooltips"];"click"==e.type&&(prop["chart.fill.click"]&&prop["chart.fill.click"](e,dataset),prop["chart.fill.tooltips"]&&prop["chart.fill.tooltips"][dataset]&&obj.DatasetTooltip(e,dataset)),"mousemove"==e.type&&(prop["chart.fill.mousemove"]&&prop["chart.fill.mousemove"](e,dataset),RG.is_null(fillTooltips)||(e.target.style.cursor="pointer"),prop["chart.fill.tooltips"]&&prop["chart.fill.tooltips"][dataset]&&(e.target.style.cursor="pointer")),e.stopPropagation()}else"mousemove"==e.type&&(ca.style.cursor="default")};(prop["chart.fill.click"]||!RG.is_null(prop["chart.fill.tooltips"]))&&ca.addEventListener("click",func,!1),(prop["chart.fill.mousemove"]||!RG.is_null(prop["chart.fill.tooltips"]))&&ca.addEventListener("mousemove",func,!1)},this.HighlightDataset=function(dataset){co.beginPath();for(var j=0;j<this.coords2[dataset].length;++j)0==j?co.moveTo(this.coords2[dataset][0][0],this.coords2[dataset][0][1]):co.lineTo(this.coords2[dataset][j][0],this.coords2[dataset][j][1]);if(co.lineTo(this.coords2[dataset][0][0],this.coords2[dataset][0][1]),prop["chart.accumulative"]&&dataset>0){co.lineTo(this.coords2[dataset-1][0][0],this.coords2[dataset-1][0][1]);for(var j=this.coords2[dataset-1].length-1;j>=0;--j)co.lineTo(this.coords2[dataset-1][j][0],this.coords2[dataset-1][j][1])}co.strokeStyle=prop["chart.fill.highlight.stroke"],co.fillStyle=prop["chart.fill.highlight.fill"],co.stroke(),co.fill()},this.DatasetTooltip=function(e,dataset){this.HighlightDataset(dataset);var text=prop["chart.fill.tooltips"][dataset],x=0,y=this.coords2[dataset][0][1]+RG.getCanvasXY(ca)[1];RG.Tooltip(this,text,x,y,0,e)},this.interactiveKeyHighlight=function(index){var coords=this.coords2[index];if(coords){var pre_linewidth=co.lineWidth,pre_linecap=co.lineCap;co.lineWidth=prop["chart.linewidth"]+10,co.lineCap="round",co.strokeStyle=prop["chart.key.interactive.highlight.chart.stroke"],co.beginPath();for(var i=0,len=coords.length;len>i;i+=1)0==i?co.moveTo(coords[i][0],coords[i][1]):co.lineTo(coords[i][0],coords[i][1]);co.closePath(),co.stroke(),co.lineWidth=pre_linewidth,co.lineCap=pre_linecap}},RG.Register(this)};